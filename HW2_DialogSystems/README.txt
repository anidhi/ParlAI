HW2 Dialog Systems - README

This folder HW2 has :
Google Colab notebook that has the run model--> HW2_DialogSystems_Model3.ipynb

Model --> HW2_model3

Model dict --> HW2_model3.checkpoint.dict

Chat Log with the model(More than 5 logs) --> chatLog.json

Chat Log with the ParlAI zoo model --> zoo:q2seconvai2/seq2seq/convai2_self_seq_model
Script used : !python3 -m parlai.scripts.interactive -mf zoo:q2seconvai2/seq2seq/convai2_self_seq_model -m legacy:seq2seq:0
---> the file with ParlAI chat logs --> chatLogWithParlAIModel.json

perplexity and BLEU --> perplexityAndBleu.txt
Some info about the trained model:

BLEU -> 0.028570780729954972 ; Perplexity -> 45.47

The following scripts were run in succession :

# -*- coding: utf-8 -*-
"""HW2_DialogSystems_Model3.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1cGqqm2pvMweo3ULWznmdyrf-WgIOcbsL
"""

from google.colab import drive
drive.mount('/content/gdrive')

# Commented out IPython magic to ensure Python compatibility.
# %ls /content/gdrive/'My Drive'

!pip install torch
import torch
model_save_name = 'HW2_model3'
path = F"/content/gdrive/My Drive/{model_save_name}"

!git clone https://github.com/facebookresearch/ParlAI
!cd ParlAI; python setup.py develop install

!pip install 'git+https://github.com/rsennrich/subword-nmt.git#egg=subword-nmt'

cd ParlAI/examples/

# Commented out IPython magic to ensure Python compatibility.
# %ls

mkdir models

cp /content/gdrive/'My Drive'/HW2_model3 models/HW2_model3

cp /content/gdrive/'My Drive'/HW2_model3.dict models/HW2_model3.dict

cp /content/gdrive/'My Drive'/HW2_model3.trainstats models/HW2_model3.trainstats

!python train_model.py -t twitter -m seq2seq -mf models/HW2_model3 --dict-file models/HW2_model3.dict -emb glove --beam-size 40 --inference beam -opt adam -esz 300 -nl 4 -dr 0.3 -bi True -att local --attention-time pre --rnn-class lstm --decoder same -bs 16 -lr 0.001 --max-train-time 10800 --save-every-n-secs  300 -mcs all

torch.save('models/HW2_model2.checkpoint', path)

!python3 eval_model.py -m seq2seq -t twitter -mf models/HW2_model3

!python3 interactive.py -m seq2seq -mf models/HW2_model3

cp models/HW2_model3 /content/gdrive/'My Drive'/HW2_model3

cp models/HW2_model3.dict /content/gdrive/'My Drive'/HW2_model3.dict

cp models/HW2_model3.trainstats /content/gdrive/'My Drive'/HW2_model3.trainstats

# Commented out IPython magic to ensure Python compatibility.
# %ls





